---
title: YumML - Otro Formato de Metadatos de Recetas
date: '2020-01-06'
spoiler: Hay algunos formatos de recetas en internet pero son antiguos, no
  están especificados correctamente o tienen restricciones de licencia. YumML es un esfuerzo para hacer recetas de cocina
  legibles por humanos y máquinas.
draft: true
tags:
  - codigo-abierto
---

Hace años, hablando con un amigo, nos dimos cuenta de que no existe un formato estándar
para guardar recetas de cocina. En ese momento estaba aprendiendo React, y uno de mis
primeros proyectos fue una app de gestión de recetas. No tuve éxito (como muchos
proyectos que empecé y nunca terminé), pero en el camino encontré un borrador de
especificación de un formato de recetas: **YumML**.

Paul Jenkins publicó este formato en [vikingco.de](http://vikingco.de/), pero
el sitio está ahora fuera de línea. Las únicas referencias disponibles son del
[Internet Archive](https://web.archive.org/web/20160730232450/http://vikingco.de/)
y el [repositorio de la página](https://github.com/vikingcode/vikingcode.github.io)
que aún permanece disponible.

> Las palabras clave “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”,
> “SHOULD NOT”, “RECOMMENDED”, “MAY”, y “OPTIONAL” en este documento deben ser
> interpretadas como se describe en [RFC 2119](https://tools.ietf.org/html/rfc2119).

## Historia

El primer borrador del formato YumML es del 21 de septiembre de 2011 hecho por Paul
Jenkins, puedes revisar la [especificación original aquí](./original-yumml.md)
que rescaté de los viejos archivos que encontré.

Este borrador es prometedor como formato para recetas de cocina, así que quiero
recuperarlo de los archivos olvidados y revivirlo, añadiendo funcionalidades y
especificaciones extra.

## Motivación

Como el autor original de YumML mencionó en su post, he investigado formatos de
recetas de cocina y, siendo claro, la mayoría apestan. El panorama de formatos de
intercambio de recetas está fragmentado, pero la mayoría comparten un rasgo: carecen
de legibilidad humana.

La mayoría del software de cocina usa formatos propietarios que solo ese software
puede leer. Algunos pueden ser importados por otros programas.
[Meal-Master](http://web.archive.org/web/20151029032924/http://episoft.home.comcast.net:80/~episoft/)
es uno de estos formatos ampliamente soportados y debido a eso hay una
[enorme colección de recetas](http://www.ffts.com/recipes.htm) disponible online.

Pero mirando un ejemplo, el formato parece mal especificado:

```txt
MMMMM----- Now You're Cooking! v5.65 [Meal-Master Export Format]

      Title: Agua De Valencia
 Categories: beverages, spanish
      Yield: 4 servings

      1    bottle of spanish cava
           -(sparkling wine or; champag
           plenty fresh orange juice
           cointreau
           ice cubes

Put some ice cubes into a large jug and pour over lots of orange juice. Now
add the bottle of cava. Once the fizz subsides, stir in a good dash of the
cointreau and it's ready to serve.

  Contributor:  Esther Pérez Solsona

  NYC Nutrilink: N0^00000,N0^00000,N0^00000,N0^00000
```

Hay algunos otros formatos "famosos" como:

- [RecipeML](http://www.formatdata.com/recipeml/index.html)
- [Recipe Exchange Markup Language](http://reml.sourceforge.net/)
- [CookML](http://www.kalorio.de/index.php?Mod=Ac&Cap=CE&SCa=../cml/CookML_EN)

Pero son principalmente formatos basados en XML y es imposible para un humano real ser
capaz de leer y entender una receta escrita en ese formato. Si estás
interesado en encontrar otros formatos de recetas hay una
[lista de formatos de cocina relacionados con software](http://microformats.org/wiki/recipe-formats).

Vale la pena mencionar algunos formatos que vinieron con la era de Internet. Los microdatos HTML
como [Google rich snippets](https://developers.google.com/search/docs/data-types/recipe)
y los [microdatos de schema.org](http://schema.org/Recipe), son ampliamente usados por
sitios de recetas comerciales. Aunque el objetivo principal de los microdatos es hacer el
contenido legible por máquina (especialmente para propósitos de SEO), pero las recetas hoy en día están
pensadas para ser leídas y ejecutadas por un humano.

Finalmente encontré [pesto](https://6xq.net/pesto/) que apunta a hacer un formato más
simple legible por humanos, pero personalmente encuentro difícil de entender
para alguien que no está acostumbrado a la sintaxis.

## Consideraciones de diseño originales

El autor original de YumML tenía algunas consideraciones en mente durante el diseño
del formato:

- No necesita una guía de referencia larga.
- Puede ser fácilmente leído por personas no técnicas en el formato "crudo".
- Puede ser traducible entre imperial y métrico.
- Quiere algo como el _markdown_ de recetas (pero todavía fácil de analizar con software).

YumML está basado en YAML para crear un formato legible por humanos _y_ sistemas.

**De [yaml.org](https://yaml.org/)**

> Qué Es: YAML es un estándar de serialización de datos amigable para humanos para todos los
> lenguajes de programación.

## Objetivos

Quiero definir objetivos más formales para la especificación.

Formato YumML:

- **DEBE** ser legible por humanos **y** sistemas.
- **DEBE** ser autocontenido, así que **NO DEBE** requerir recursos adicionales para ser interpretado.
- **DEBE** tener soporte para diferentes sistemas métricos _(métrico, imperial)_.
- **DEBERÍA** ser fácil de traducir a diferentes idiomas _(las recetas tienen una fuerte influencia cultural y el idioma no debería ser una barrera para alguien que quiere entender)_.
- **DEBERÍA** ser fácil de analizar usando herramientas ya existentes.
- **DEBERÍA** ser fácil de extender en el futuro.

## Ejemplo Básico

```yumml
name: Mrs Fields Choc-Chip Cookies
date: 2011-09-21
time: 25 minutes
ingredients:
  - quantity: 2.5
    unit: cups
    item: plain flour

  - quantity: 0.5
    unit: tsp
    item: bi-carb of soda

instructions:
  - step: Mix flour, bi-carb soda, and salt in a large bowl
  - step: Blend sugars with electric mixer, add margarine to form a grainy paste
```

## Especificación

Hay tres secciones principales que cada receta debe incluir: el encabezado, la lista de ingredientes, y las instrucciones.

### Encabezado

El encabezado es una sección implícita donde todos los atributos se colocan en el
nivel raíz del archivo. Todos los atributos deberían colocarse en la parte superior del
archivo.

- **name**:
  - descripción: `Nombre de la receta.`
  - tipo: `string`
  - requerido: `true`
- `date`:
  - descripción: Fecha de la receta.
  - tipo: `string` (notación de fecha completa como se define por [RFC 3339, sección 5.6](https://tools.ietf.org/html/rfc3339#section-5.6), por ejemplo, _2017-07-21_)
  - requerido: false
- `time`: (_opcional_) Cuánto tiempo tomaría la receta.
- `author`: (_opcional_) Autor de la receta.
- `servings`: (_opcional_) Para cuántas porciones está dimensionada la receta (ej: una
  sopa de tomate con 4 porciones significa que es para 4 personas, pero galletas de chocolate con
  20 porciones significa que va a hacer 20 galletas).
- `description`: (_opcional_) Una descripción más detallada sobre la receta.
- `rating`: (_opcional_) Calificación de la receta.

#### Ejemplo

```yumml:1-8
name: Mrs Fields Choc-Chip Cookies
date: 2011-09-21
time: 25 minutes
serves: 1
makes: 25
tags:
  - cookies
  - chocolate
ingredients:
  - quantity: 2.5
    unit: cups
    item: plain flour

  - quantity: 0.5
    unit: tsp
    item: bi-carb of soda

instructions:
  - step: Mix flour, bi-carb soda, and salt in a large bowl
  - step: Blend sugars with electric mixer, add margarine to form a grainy paste
```
